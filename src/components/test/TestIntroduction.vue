<template>
  <div class="test-introduction">
    <div class="test-introduction-card">
      <!-- –ò–∫–æ–Ω–∫–∞ —Ç–µ—Å—Ç–∞ -->
      <div class="test-introduction-card__icon">
        {{ currentTest?.icon || 'üß™' }}
      </div>

      <!-- –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞ -->
      <h1 class="test-introduction-card__title">
        {{ currentTest?.title || '–ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Ç–µ—Å—Ç' }}
      </h1>

      <!-- –û–ø–∏—Å–∞–Ω–∏–µ -->
      <p class="test-introduction-card__description">
        {{ currentTest?.description || '–ü—Ä–æ–π–¥–∏—Ç–µ —Ç–µ—Å—Ç –∏ —É–∑–Ω–∞–π—Ç–µ –±–æ–ª—å—à–µ –æ —Å–µ–±–µ' }}
      </p>

      <!-- –ú–µ—Ç–∞–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –≤ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É -->
      <div class="test-introduction-card__meta">
        <div class="test-introduction-card__meta-item">
          <span class="icon">‚è±Ô∏è</span>
          <span>{{ currentTest?.duration || 5 }} –º–∏–Ω</span>
        </div>
        <div class="test-introduction-card__meta-item">
          <span class="icon">üìä</span>
          <span>{{ getTotalQuestions() }} –≤–æ–ø—Ä–æ—Å–æ–≤</span>
        </div>
        <div class="test-introduction-card__meta-item">
          <span class="icon">üéØ</span>
          <span>{{ getDifficultyName(currentTest?.difficulty) }}</span>
        </div>
      </div>

      <!-- –ö–Ω–æ–ø–∫–∞ –∑–∞–ø—É—Å–∫–∞ -->
      <div class="test-introduction-card__action">
        <button 
          @click="$emit('start-test')" 
          class="btn btn--primary btn--lg"
          style="min-width: 200px;"
        >
          –ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
        </button>
      </div>
    </div>
  </div>
</template>

<script setup>
const props = defineProps({
  testData: {
    type: Object,
    default: () => ({})
  },
  currentTest: {
    type: Object,
    default: () => ({})
  }
})

const emit = defineEmits(['start-test'])

const getTotalQuestions = () => {
  return props.testData?.questions?.length || props.currentTest?.questionCount || 10
}

const getDifficultyName = (difficulty) => {
  const difficultyNames = {
    easy: '–õ–µ–≥–∫–∏–π',
    medium: '–°—Ä–µ–¥–Ω–∏–π',
    hard: '–°–ª–æ–∂–Ω—ã–π'
  }
  return difficultyNames[difficulty] || '–°—Ä–µ–¥–Ω–∏–π'
}
</script>

<!-- –°—Ç–∏–ª–∏ —É–∂–µ –≤–∫–ª—é—á–µ–Ω—ã –≤ _layouts.scss -->